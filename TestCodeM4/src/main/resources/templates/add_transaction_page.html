<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Thêm mới giao dịch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .form-wrapper {
            max-width: 600px;
            margin: 0 auto;
        }
        .error {
            color: red;
            font-size: 0.875em;
            margin-top: 4px;
        }
    </style>
</head>
<body class="bg-light p-4">

<div class="container bg-white p-4 rounded shadow-sm form-wrapper">
    <h3 class="text-center mb-4">Thêm mới giao dịch</h3>

    <form th:action="@{/add-transaction}" method="post" th:object="${transactionDTO}">
        <div class="row mb-3">
            <label class="col-sm-4 col-form-label">Tên khách hàng</label>
            <div class="col-sm-8">
                <select class="form-select" th:field="*{customer}">
                    <option th:each="c : ${customers}" th:value="${c.id}" th:text="${c.name}">Chọn khách hàng</option>
                </select>
                <p th:if="${#fields.hasErrors('customer')}" th:errors="*{customer}" class="error"></p>
            </div>
        </div>

        <div class="row mb-3">
            <label class="col-sm-4 col-form-label">Loại bất động sản</label>
            <div class="col-sm-8 d-flex align-items-center gap-4">
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="dat" value="Đất" th:field="*{type}">
                    <label class="form-check-label" for="dat">Đất</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="nhadat" value="Nhà đất" th:field="*{type}">
                    <label class="form-check-label" for="nhadat">Nhà đất</label>
                </div>
            </div>
            <div class="offset-sm-4 col-sm-8">
                <p th:if="${#fields.hasErrors('type')}" th:errors="*{type}" class="error"></p>
            </div>
        </div>

        <div class="row mb-3">
            <label for="date" class="col-sm-4 col-form-label">Ngày giao dịch</label>
            <div class="col-sm-8">
                <input type="date" class="form-control" id="date" th:field="*{date}">
                <p th:if="${#fields.hasErrors('date')}" th:errors="*{date}" class="error"></p>
            </div>
        </div>

        <div class="row mb-3">
            <label for="price" class="col-sm-4 col-form-label">Đơn giá (VND)</label>
            <div class="col-sm-8">
                <input type="number" class="form-control" id="price" th:field="*{price}">
                <p th:if="${#fields.hasErrors('price')}" th:errors="*{price}" class="error"></p>
            </div>
        </div>

        <div class="row mb-4">
            <label for="acreage" class="col-sm-4 col-form-label">Diện tích (m²)</label>
            <div class="col-sm-8">
                <input type="number" class="form-control" id="acreage" th:field="*{acreage}">
                <p th:if="${#fields.hasErrors('acreage')}" th:errors="*{acreage}" class="error"></p>
            </div>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-warning me-2">Thêm mới</button>
            <a th:href="@{/}" class="btn btn-secondary">Quay lại</a>
        </div>
    </form>
</div>

</body>
</html>
